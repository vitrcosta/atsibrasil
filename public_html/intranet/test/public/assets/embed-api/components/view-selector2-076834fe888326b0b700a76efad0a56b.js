!function(i){function r(e){if(o[e])return o[e].exports;var t=o[e]={i:e,l:!1,exports:{}};return i[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}var o={};r.m=i,r.c=o,r.i=function(e){return e},r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=4)}([function(e,t,i){function r(){var e=gapi.client.request({path:c}).then(function(e){return e});return new e.constructor(function(i,r){var o=[];e.then(function n(e){var t=e.result;t.items?o=o.concat(t.items):r(new Error("You do not have any Google Analytics accounts. Go to http://google.com/analytics to sign up.")),t.startIndex+t.itemsPerPage<=t.totalResults?gapi.client.request({path:c,params:{"start-index":t.startIndex+t.itemsPerPage}}).then(n):i(new s(o))}).then(null,r)})}var o,s=i(1),c="/analytics/v3/management/accountSummaries";e.exports={get:function(e){return e&&(o=null),o||(o=r())}}},function(e){function t(e){this.accounts_=e,this.webProperties_=[],this.profiles_=[],this.accountsById_={},this.webPropertiesById_=this.propertiesById_={},this.profilesById_=this.viewsById_={};for(var t,i=0;t=this.accounts_[i];i++)if(this.accountsById_[t.id]={self:t},t.webProperties){c(t,"webProperties","properties");for(var r,o=0;r=t.webProperties[o];o++)if(this.webProperties_.push(r),this.webPropertiesById_[r.id]={self:r,parent:t},r.profiles){c(r,"profiles","views");for(var n,s=0;n=r.profiles[s];s++)this.profiles_.push(n),this.profilesById_[n.id]={self:n,parent:r,grandParent:t}}}}function c(e,t,i){Object.defineProperty?Object.defineProperty(e,i,{get:function(){return e[t]}}):e[i]=e[t]}t.prototype.all=function(){return this.accounts_},c(t.prototype,"all","allAccounts"),t.prototype.allWebProperties=function(){return this.webProperties_},c(t.prototype,"allWebProperties","allProperties"),t.prototype.allProfiles=function(){return this.profiles_},c(t.prototype,"allProfiles","allViews"),t.prototype.get=function(e){if(1<!!e.accountId+!!e.webPropertyId+!!e.propertyId+!!e.profileId+!!e.viewId)throw new Error('get() only accepts an object with a single property: either "accountId", "webPropertyId", "propertyId", "profileId" or "viewId"');return this.getProfile(e.profileId||e.viewId)||this.getWebProperty(e.webPropertyId||e.propertyId)||this.getAccount(e.accountId)},t.prototype.getAccount=function(e){return this.accountsById_[e]&&this.accountsById_[e].self},t.prototype.getWebProperty=function(e){return this.webPropertiesById_[e]&&this.webPropertiesById_[e].self},c(t.prototype,"getWebProperty","getProperty"),t.prototype.getProfile=function(e){return this.profilesById_[e]&&this.profilesById_[e].self},c(t.prototype,"getProfile","getView"),t.prototype.getAccountByProfileId=function(e){return this.profilesById_[e]&&this.profilesById_[e].grandParent},c(t.prototype,"getAccountByProfileId","getAccountByViewId"),t.prototype.getWebPropertyByProfileId=function(e){return this.profilesById_[e]&&this.profilesById_[e].parent},c(t.prototype,"getWebPropertyByProfileId","getPropertyByViewId"),t.prototype.getAccountByWebPropertyId=function(e){return this.webPropertiesById_[e]&&this.webPropertiesById_[e].parent},c(t.prototype,"getAccountByWebPropertyId","getAccountByPropertyId"),e.exports=t},,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(0),s=i.n(r);gapi.analytics.ready(function(){function n(e,t,i){e.innerHTML=t.map(function(e){return"<option "+(e.id==i?"selected ":" ")+'value="'+e.id+'">'+e.name+"</option>"}).join("")}function o(e){return e.ids||e.viewId?{prop:"viewId",value:e.viewId||e.ids&&e.ids.replace(/^ga:/,"")}:e.propertyId?{prop:"propertyId",value:e.propertyId}:e.accountId?{prop:"accountId",value:e.accountId}:void 0}gapi.analytics.createComponent("ViewSelector2",{execute:function(){return this.setup_(function(){this.updateAccounts_(),this.changed_&&(this.render_(),this.onChange_())}.bind(this)),this},set:function(e){if(1<!!e.ids+!!e.viewId+!!e.propertyId+!!e.accountId)throw new Error('You cannot specify more than one of the following options: "ids", "viewId", "accountId", "propertyId"');if(e.container&&this.container)throw new Error("You cannot change containers once a view selector has been rendered on the page.");var t=this.get();return t.ids==e.ids&&t.viewId==e.viewId&&t.propertyId==e.propertyId&&t.accountId==e.accountId||(t.ids=null,t.viewId=null,t.propertyId=null,t.accountId=null),gapi.analytics.Component.prototype.set.call(this,e)},setup_:function(t){var i=this,e=function(){s.a.get().then(function(e){i.summaries=e,i.accounts=i.summaries.all(),t()},function(e){i.emit("error",e)})};gapi.analytics.auth.isAuthorized()?e():gapi.analytics.auth.on("signIn",e)},updateAccounts_:function(){var e=o(this.get()),t=void 0,i=void 0,r=void 0;if(this.summaries.all().length){if(e)switch(e.prop){case"viewId":t=this.summaries.getProfile(e.value),i=this.summaries.getAccountByProfileId(e.value),r=this.summaries.getWebPropertyByProfileId(e.value);break;case"propertyId":r=this.summaries.getWebProperty(e.value),i=this.summaries.getAccountByWebPropertyId(e.value),t=r&&r.views&&r.views[0];break;case"accountId":t=(r=(i=this.summaries.getAccount(e.value))&&i.properties&&i.properties[0])&&r.views&&r.views[0]}else t=(r=(i=this.accounts[0])&&i.properties&&i.properties[0])&&r.views&&r.views[0];i||r||t?i==this.account&&r==this.property&&t==this.view||(this.changed_={account:i&&i!=this.account,property:r&&r!=this.property,view:t&&t!=this.view},this.account=i,this.properties=i.properties,this.property=r,this.views=r&&r.views,this.view=t,this.ids=t&&"ga:"+t.id):this.emit("error",new Error("This user does not have access to "+e.prop.slice(0,-2)+" : "+e.value))}else this.emit("error",new Error('This user does not have any Google Analytics accounts. You can sign up at "www.google.com/analytics".'))},render_:function(){var e=this.get();this.container="string"==typeof e.container?document.getElementById(e.container):e.container,this.container.innerHTML=e.template||this.template;var t=this.container.querySelectorAll("select"),i=this.accounts,r=this.properties||[{name:"(Empty)",id:""}],o=this.views||[{name:"(Empty)",id:""}];n(t[0],i,this.account.id),n(t[1],r,this.property&&this.property.id),n(t[2],o,this.view&&this.view.id),t[0].onchange=this.onUserSelect_.bind(this,t[0],"accountId"),t[1].onchange=this.onUserSelect_.bind(this,t[1],"propertyId"),t[2].onchange=this.onUserSelect_.bind(this,t[2],"viewId")},onChange_:function(){var e={account:this.account,property:this.property,view:this.view,ids:this.view&&"ga:"+this.view.id};this.changed_&&(this.changed_.account&&this.emit("accountChange",e),this.changed_.property&&this.emit("propertyChange",e),this.changed_.view&&(this.emit("viewChange",e),this.emit("idsChange",e),this.emit("change",e.ids))),this.changed_=null},onUserSelect_:function(e,t){var i={};i[t]=e.value,this.set(i),this.execute()},template:'<div class="ViewSelector2">  <div class="ViewSelector2-item">    <label>Account</label>    <select class="FormField"></select>  </div>  <div class="ViewSelector2-item">    <label>Property</label>    <select class="FormField"></select>  </div>  <div class="ViewSelector2-item">    <label>View</label>    <select class="FormField"></select>  </div></div>'})})}]);